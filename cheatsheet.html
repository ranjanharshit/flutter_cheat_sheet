<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Flutter Cheat Sheet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Slate & Amber -->
    <!-- Application Structure Plan: A single-page application with a fixed hierarchical sidebar for navigation, dynamically updating a central content panel. This structure is chosen to manage the large amount of structured text, making it easily navigable and preventing user overwhelm, unlike a single long-scrolling page. The sidebar mirrors the report's table of contents. Key interactions include interactive demos for core concepts like state and layout to provide a more tangible learning experience. -->
    <!-- Visualization & Content Choices: 
        - Flutter Architecture: Report text -> Goal: Inform -> Viz: HTML/CSS diagram -> Interaction: Static visual -> Justification: More intuitive than text.
        - StatelessWidget vs. StatefulWidget: Report text/code -> Goal: Compare/Inform -> Viz: Interactive HTML component -> Interaction: Clickable button demonstrates state change -> Justification: A live demo is more effective for learning than static code.
        - Layout Widgets: Report text -> Goal: Explore -> Viz: Interactive HTML panel with dropdowns -> Interaction: Select layout properties to see instant visual changes -> Justification: Encourages user experimentation and deeper understanding.
        - CLI/Shortcuts/Tables: Report tables -> Goal: Reference -> Viz: Styled HTML tables -> Interaction: Static reference -> Justification: Clear and standard presentation for tabular data.
        - Code Snippets: Report code -> Goal: Use -> Viz: Styled code block -> Interaction: Copy-to-clipboard button -> Justification: Improves usability for students.
        - Roadmap: Report list -> Goal: Inform -> Viz: Styled accordion/collapsible sections -> Interaction: Click to expand/collapse -> Justification: Organizes a large amount of text into manageable chunks.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .sidebar-item.active {
            background-color: #e2e8f0; /* slate-200 */
            color: #1e293b; /* slate-800 */
            font-weight: 600;
        }
        .sidebar-item:not(.active):hover {
            background-color: #f1f5f9; /* slate-100 */
        }
        .prose-custom h1 {
            font-size: 2.25rem;
            font-weight: 700;
            color: #1e293b; /* slate-800 */
        }
        .prose-custom h2 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1e293b; /* slate-800 */
            border-bottom: 1px solid #e2e8f0; /* slate-200 */
            padding-bottom: 0.5rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .prose-custom h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #334155; /* slate-700 */
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        .prose-custom p, .prose-custom li {
            color: #475569; /* slate-600 */
            line-height: 1.75;
        }
        .prose-custom strong {
            color: #1e293b; /* slate-800 */
        }
        .prose-custom code {
            color: #c2410c; /* orange-600 */
            background-color: #fff7ed; /* orange-50 */
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            border-radius: 6px;
        }
        .prose-custom pre {
            background-color: #1e293b; /* slate-800 */
            color: #e2e8f0; /* slate-200 */
            border-radius: 0.5rem;
            padding: 1rem;
            position: relative;
        }
        .prose-custom pre code {
            background-color: transparent;
            color: inherit;
            padding: 0;
            font-size: 100%;
        }
        .prose-custom table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .prose-custom th, .prose-custom td {
            border: 1px solid #e2e8f0; /* slate-200 */
            padding: 0.75rem;
            text-align: left;
        }
        .prose-custom th {
            background-color: #f1f5f9; /* slate-100 */
            color: #1e293b; /* slate-800 */
            font-weight: 600;
        }
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #475569;
            color: #f1f5f9;
            border: none;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            border-radius: 0.25rem;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        .prose-custom pre:hover .copy-btn {
            opacity: 1;
        }
        .interactive-demo {
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-top: 1.5rem;
            background-color: #ffffff;
        }
        .interactive-demo h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 1rem;
        }
        .accordion-header {
            cursor: pointer;
            padding: 1rem;
            background-color: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
            color: #334155;
            transition: background-color 0.2s;
        }
        .accordion-header:hover {
            background-color: #e2e8f0;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
            padding: 0 1rem;
            border-left: 1px solid #e2e8f0;
            border-right: 1px solid #e2e8f0;
            border-bottom: 1px solid #e2e8f0;
            border-bottom-left-radius: 0.5rem;
            border-bottom-right-radius: 0.5rem;
        }
         .accordion-content > div {
            padding: 1rem 0;
        }
    </style>
</head>
<body class="text-slate-800">
    <div class="flex h-screen bg-slate-50">
        <!-- Mobile Nav Toggle -->
        <button id="mobile-nav-toggle" class="lg:hidden fixed top-4 left-4 z-30 bg-white p-2 rounded-md shadow-md">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
        </button>

        <!-- Sidebar -->
        <aside id="sidebar" class="fixed top-0 left-0 w-64 h-full bg-white border-r border-slate-200 p-4 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out z-20 overflow-y-auto">
            <h1 class="text-xl font-bold text-slate-800 mb-2 flex items-center">
                <svg class="w-8 h-8 mr-2 text-sky-500" viewBox="0 0 208 250" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M63.858 231.42L0 167.564l63.858-63.858 63.858 63.858-63.858 63.856z" fill="#40D3F4"></path><path d="M127.716 231.42l-63.858-63.858L127.716 103.705l42.572 42.572-42.572 85.143z" fill="#00A2E3"></path><path d="M63.858 103.704L106.43 61.132l63.858 63.858-63.858 63.858-42.572-42.572v-42.572z" fill="#0075C2"></path><path d="M127.716 103.704V18.578L170.288 61.15 127.716 103.705z" fill="#00569E"></path></svg>
                Flutter Cheat Sheet
            </h1>
            <p class="text-xs text-slate-500 mb-6">Interactive Learning Guide</p>
            <nav id="nav-menu" class="space-y-1"></nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 lg:ml-64 p-4 md:p-8 lg:p-12 overflow-y-auto">
            <div id="content-area" class="prose-custom max-w-4xl mx-auto">
                <!-- Content will be injected here -->
            </div>
        </main>
    </div>

    <script>
        const cheatSheetData = {
            '1.1': {
                title: 'Flutter Architecture Overview: Understanding the Layers',
                content: `
                    <p>Flutter's architecture is an extensible, layered system designed for cross-platform development. It consists of three main layers: the Framework, the Engine, and the Embedder. This layered design allows Flutter to draw its UI directly, ensuring consistent visual fidelity and performance across platforms.</p>
                    <div class="interactive-demo mt-8">
                        <h4 class="text-center mb-4">Flutter Architecture Diagram</h4>
                        <div class="space-y-2 text-center">
                            <div class="bg-sky-200 text-sky-800 font-semibold p-4 rounded-lg shadow">
                                Framework (Dart)
                                <div class="text-sm font-normal mt-1">(Widgets, Material, Cupertino, Rendering, Animation)</div>
                            </div>
                            <div class="flex justify-center">
                                <svg class="w-6 h-6 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </div>
                            <div class="bg-blue-200 text-blue-800 font-semibold p-4 rounded-lg shadow">
                                Engine (C++)
                                <div class="text-sm font-normal mt-1">(Skia, Dart VM, Text Layout, Platform Channels)</div>
                            </div>
                            <div class="flex justify-center">
                                <svg class="w-6 h-6 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </div>
                            <div class="bg-indigo-200 text-indigo-800 font-semibold p-4 rounded-lg shadow">
                                Embedder (Platform-Specific)
                                <div class="text-sm font-normal mt-1">(iOS, Android, Web, Desktop - Manages Rendering Surface, Input)</div>
                            </div>
                        </div>
                    </div>
                `
            },
            '1.2': {
                title: 'Setting Up Your Development Environment',
                content: `
                    <p>To set up your Flutter environment, install the <strong>Flutter SDK</strong> and choose an <strong>IDE</strong> like VS Code or Android Studio. Configure your <strong>Development Target</strong> by installing necessary platform SDKs. Always run <code>flutter doctor</code> to diagnose and resolve setup issues.</p>
                    <h3>Key Steps:</h3>
                    <ul>
                        <li>Download and extract the Flutter SDK to a simple path (e.g., <code>C:\\dev</code>).</li>
                        <li>Install your preferred IDE and the corresponding Flutter/Dart plugins.</li>
                        <li>Install Android SDK/Tools via Android Studio's SDK Manager and/or Xcode for iOS/macOS.</li>
                        <li>Run <code>flutter doctor -v</code> in your terminal to verify the setup and follow its guidance to fix any reported issues.</li>
                    </ul>
                `
            },
            '1.3': {
                title: 'Creating Your First Flutter Project',
                content: `
                    <p>You can create a new Flutter project via the <strong>CLI</strong> or within your <strong>IDE</strong>. The two most important files in a new project are <code>pubspec.yaml</code> for managing dependencies and <code>lib/main.dart</code>, which is the application's entry point.</p>
                    <h3>Using the CLI:</h3>
                    <pre><code class="language-shell">flutter create my_awesome_app</code></pre>
                    <h3>Using VS Code:</h3>
                    <p>Open the Command Palette (<code>Ctrl+Shift+P</code> or <code>Cmd+Shift+P</code>) and select <code>Flutter: New Project</code>.</p>
                `
            },
            '1.4': {
                title: 'Running Your App: Hot Reload vs. Hot Restart',
                content: `
                    <p>Flutter's fast development cycle is powered by Hot Reload and Hot Restart. Both only work in debug mode.</p>
                    <h3>Hot Reload (<code>r</code> in terminal / <code>Ctrl+F5</code>)</h3>
                    <p>Injects code changes into the running Dart VM and rebuilds the widget tree <strong>without losing the app's current state</strong>. It's perfect for quick UI tweaks and minor logic changes.</p>
                    <h3>Hot Restart (<code>Shift+R</code> in terminal)</h3>
                    <p>Destroys the current Dart VM and creates a new one, reloading the app from its initial state. This <strong>resets the app state</strong> and is necessary for changes to global variables, static fields, or anything in <code>main()</code>.</p>
                `
            },
            '2.1': {
                title: 'Everything is a Widget: The Foundational Concept',
                content: `
                    <p>In Flutter, the core philosophy is that "everything is a widget." From a simple <code>Text</code> element to screen layouts, padding, and even the app itself, they are all widgets. Widgets are immutable blueprints that describe what the UI should look like at any given state. When state changes, Flutter efficiently rebuilds the necessary parts of the widget tree.</p>
                `
            },
            '2.2': {
                title: 'StatelessWidget vs. StatefulWidget: Managing UI Changes',
                content: `
                    <p>Flutter has two main types of widgets, determined by whether they manage internal state.</p>
                    <h3>StatelessWidget</h3>
                    <p>An immutable widget whose properties are set at creation and do not change over time. It's used for static content. The <code>build()</code> method is called only once.</p>
                    <pre><code class="language-dart">class MyTextWidget extends StatelessWidget {
  final String text;

  const MyTextWidget({super.key, required this.text});

  @override
  Widget build(BuildContext context) {
    return Text(text);
  }
}</code></pre>
                    <h3>StatefulWidget</h3>
                    <p>A mutable widget that can change its appearance in response to user interactions or data changes. It manages its internal state using a companion <code>State</code> object. Calling <code>setState()</code> within the <code>State</code> class triggers a rebuild of that widget's subtree.</p>
                    <pre><code class="language-dart">class Counter extends StatefulWidget {
  const Counter({super.key});

  @override
  State<Counter> createState() => _CounterState();
}

class _CounterState extends State<Counter> {
  int _count = 0;

  void _increment() {
    setState(() {
      _count++;
    });
  }

  @override
  Widget build(BuildContext context) {
    return ElevatedButton(
      onPressed: _increment,
      child: Text('Count: $_count'),
    );
  }
}</code></pre>
                    <div class="interactive-demo">
                        <h4>Live Demo</h4>
                        <div class="flex items-center justify-around space-x-4">
                            <div class="text-center">
                                <p class="font-medium mb-2">StatelessWidget</p>
                                <button class="bg-slate-200 text-slate-700 px-4 py-2 rounded-md cursor-not-allowed">I am static</button>
                            </div>
                             <div class="w-px bg-slate-300 self-stretch"></div>
                            <div class="text-center">
                                <p class="font-medium mb-2">StatefulWidget</p>
                                <button id="counter-btn" class="bg-amber-500 hover:bg-amber-600 text-white font-semibold px-4 py-2 rounded-md transition-colors">Count: 0</button>
                            </div>
                        </div>
                    </div>
                `
            },
            '3.1': {
                title: 'Fundamental UI Widgets: Your Basic Toolkit',
                content: `
                    <p>Flutter provides a rich set of pre-built UI widgets to build your app's interface.</p>
                    <table>
                        <thead><tr><th>Widget</th><th>Purpose</th></tr></thead>
                        <tbody>
                            <tr><td><code>Text</code></td><td>Displays a string of text with optional styling.</td></tr>
                            <tr><td><code>Image</code></td><td>Displays an image from assets, network, or memory.</td></tr>
                            <tr><td><code>Icon</code></td><td>Displays a graphical icon from a font.</td></tr>
                            <tr><td><code>ElevatedButton</code></td><td>A Material Design "raised" button.</td></tr>
                            <tr><td><code>TextField</code></td><td>A text input field.</td></tr>
                            <tr><td><code>Card</code></td><td>A Material Design panel with a shadow.</td></tr>
                            <tr><td><code>AppBar</code></td><td>The top toolbar for a screen.</td></tr>
                            <tr><td><code>Scaffold</code></td><td>Provides the basic Material Design visual layout structure for a screen.</td></tr>
                        </tbody>
                    </table>
                `
            },
            '3.2': {
                title: 'Layout Widgets: Arranging Your UI',
                content: `
                    <p>Layout widgets are used to compose and arrange other widgets.</p>
                     <table>
                        <thead><tr><th>Widget</th><th>Purpose</th></tr></thead>
                        <tbody>
                            <tr><td><code>Container</code></td><td>A versatile box for styling (color, padding, borders) and positioning.</td></tr>
                            <tr><td><code>Row</code></td><td>Arranges children horizontally.</td></tr>
                            <tr><td><code>Column</code></td><td>Arranges children vertically.</td></tr>
                            <tr><td><code>Padding</code></td><td>Adds empty space around a child.</td></tr>
                            <tr><td><code>Center</code></td><td>Centers its child.</td></tr>
                            <tr><td><code>Expanded</code></td><td>Forces a child of a Row/Column to fill the available space.</td></tr>
                            <tr><td><code>Stack</code></td><td>Overlaps widgets on top of each other.</td></tr>
                        </tbody>
                    </table>
                    <div class="interactive-demo">
                        <h4>Live Layout Demo (Column)</h4>
                        <div class="flex flex-col md:flex-row gap-4 items-center">
                            <div class="flex-1 w-full">
                                <label for="main-axis" class="block text-sm font-medium text-slate-700">MainAxisAlignment</label>
                                <select id="main-axis" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm rounded-md">
                                    <option value="flex-start">start</option>
                                    <option value="center" selected>center</option>
                                    <option value="flex-end">end</option>
                                    <option value="space-between">spaceBetween</option>
                                    <option value="space-around">spaceAround</option>
                                    <option value="space-evenly">spaceEvenly</option>
                                </select>
                            </div>
                             <div class="flex-1 w-full">
                                <label for="cross-axis" class="block text-sm font-medium text-slate-700">CrossAxisAlignment</label>
                                <select id="cross-axis" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm rounded-md">
                                    <option value="items-start">start</option>
                                    <option value="items-center" selected>center</option>
                                    <option value="items-end">end</option>
                                    <option value="items-stretch">stretch</option>
                                </select>
                            </div>
                        </div>
                        <div id="layout-preview-container" class="mt-4 bg-slate-100 rounded-md h-64 p-2">
                             <div id="layout-preview" class="flex flex-col h-full w-full bg-slate-200 rounded justify-center items-center">
                                <div class="bg-sky-500 text-white text-xs font-bold p-2 rounded">Widget 1</div>
                                <div class="bg-sky-500 text-white text-xs font-bold p-4 rounded my-1">Widget 2</div>
                                <div class="bg-sky-500 text-white text-xs font-bold p-2 rounded">Widget 3</div>
                            </div>
                        </div>
                    </div>
                `
            },
            '4.1': {
                title: 'Local State Management with setState()',
                content: `
                    <p>For state that is local to a single widget (often called "ephemeral state"), the simplest approach is using a <code>StatefulWidget</code> and its <code>setState()</code> method. Calling <code>setState()</code> tells the framework that the widget's state has changed and that its <code>build()</code> method should be re-run to update the UI.</p>
                    <p>While simple, overuse on high-level widgets can cause performance issues by rebuilding large parts of the UI unnecessarily.</p>
                `
            },
            '4.2': {
                title: 'App-Wide State Management with Provider',
                content: `
                    <p>For state that needs to be shared across many parts of your app (often called "app state"), a more sophisticated solution is needed to avoid "prop drilling" (passing data down through many layers of widgets). The <code>provider</code> package is a popular and recommended approach.</p>
                    <h3>Core Concepts of Provider:</h3>
                    <ul>
                        <li><strong>ChangeNotifier:</strong> A class that holds your state and can notify other parts of your app when that state changes (using <code>notifyListeners()</code>).</li>
                        <li><strong>ChangeNotifierProvider:</strong> A widget that provides an instance of your <code>ChangeNotifier</code> to all of its descendants in the widget tree. You place this high up in your tree, often above your <code>MaterialApp</code>.</li>
                        <li><strong>Consumer:</strong> A widget that listens for changes on a <code>ChangeNotifier</code> and rebuilds itself when <code>notifyListeners()</code> is called.</li>
                        <li><strong>Provider.of(context, listen: false):</strong> A way to access the state model to call methods on it, but *without* rebuilding the widget when the state changes. Perfect for buttons that trigger actions.</li>
                    </ul>
                `
            },
             '5.1': {
                title: 'Basic Navigation: Navigator.push() and Navigator.pop()',
                content: `
                    <p>Flutter manages screens (called "routes") in a stack. You can push a new screen onto the stack to show it, and pop it off to go back.</p>
                    <h3>Pushing a new screen:</h3>
                    <p>This adds a new screen to the top of the navigation stack.</p>
                    <pre><code class="language-dart">Navigator.push(
  context,
  MaterialPageRoute(builder: (context) => const SecondScreen()),
);</code></pre>
                    <h3>Popping a screen:</h3>
                    <p>This removes the top-most screen from the stack, revealing the one underneath.</p>
                    <pre><code class="language-dart">Navigator.pop(context);</code></pre>
                `
            },
            '5.2': {
                title: 'Named Routes & Passing Data',
                content: `
                    <p>For larger apps, defining "named routes" makes navigation cleaner and more manageable.</p>
                    <h3>Defining Named Routes:</h3>
                    <p>You declare your routes in the <code>MaterialApp</code> widget.</p>
                    <pre><code class="language-dart">MaterialApp(
  initialRoute: '/',
  routes: {
    '/': (context) => const HomeScreen(),
    '/details': (context) => const DetailScreen(),
  },
);</code></pre>
                    <h3>Navigating to a Named Route:</h3>
                    <pre><code class="language-dart">Navigator.pushNamed(context, '/details');</code></pre>
                    <h3>Passing Data to a Route:</h3>
                    <p>You can pass data using the <code>arguments</code> parameter. The destination screen can then retrieve these arguments.</p>
                    <pre><code class="language-dart">// Sending data
Navigator.pushNamed(
  context,
  '/details',
  arguments: Product(id: '123', name: 'A Cool Gadget'),
);

// Receiving data on the DetailScreen
final args = ModalRoute.of(context)!.settings.arguments as Product;</code></pre>
                `
            },
            '6.1': {
                title: 'Network Communication with http Package',
                content: `
                    <p>The <code>http</code> package is the standard for making network requests. Since network calls are asynchronous, they must be handled with <code>async</code> and <code>await</code> to avoid blocking the UI.</p>
                    <h3>Example GET Request:</h3>
                    <pre><code class="language-dart">import 'package:http/http.dart' as http;
import 'dart:convert';

Future<Album> fetchAlbum() async {
  final response = await http
      .get(Uri.parse('https://jsonplaceholder.typicode.com/albums/1'));

  if (response.statusCode == 200) {
    return Album.fromJson(jsonDecode(response.body));
  } else {
    throw Exception('Failed to load album');
  }
}</code></pre>
                `
            },
            '6.2': {
                title: 'Local Data Persistence',
                content: `
                    <p>Flutter offers several ways to store data locally on the device.</p>
                    <h3>shared_preferences</h3>
                    <p>Best for storing simple key-value data, like user settings or flags. Not suitable for large or complex structured data.</p>
                    <pre><code class="language-dart">final prefs = await SharedPreferences.getInstance();
await prefs.setInt('counter', 10);
final int counter = prefs.getInt('counter') ?? 0;</code></pre>
                    
                    <h3>sqflite</h3>
                    <p>Provides a local SQLite database for storing large amounts of structured, relational data. It offers full control with raw SQL queries and helper methods for CRUD (Create, Read, Update, Delete) operations.</p>
                `
            },
            '7.1': {
                title: 'Flutter Command Line Interface (CLI)',
                content: `
                    <p>The Flutter CLI is a powerful tool for managing your projects.</p>
                    <table>
                        <thead><tr><th>Command</th><th>Purpose</th></tr></thead>
                        <tbody>
                            <tr><td><code>flutter create &lt;name&gt;</code></td><td>Creates a new Flutter project.</td></tr>
                            <tr><td><code>flutter run</code></td><td>Runs the app on a connected device or emulator.</td></tr>
                            <tr><td><code>flutter doctor</code></td><td>Checks the development environment for issues.</td></tr>
                            <tr><td><code>flutter pub get</code></td><td>Fetches project dependencies.</td></tr>
                            <tr><td><code>flutter build &lt;platform&gt;</code></td><td>Builds a release version of the app (e.g., <code>apk</code>, <code>ios</code>).</td></tr>
                            <tr><td><code>flutter test</code></td><td>Runs automated tests.</td></tr>
                            <tr><td><code>flutter analyze</code></td><td>Analyzes code for potential errors and lint issues.</td></tr>
                             <tr><td><code>flutter clean</code></td><td>Deletes build artifacts to allow for a fresh build.</td></tr>
                        </tbody>
                    </table>
                `
            },
            '7.2': {
                title: 'IDE Shortcuts for Rapid Development',
                content: `
                    <p>Leveraging IDE shortcuts in VS Code and Android Studio dramatically speeds up development.</p>
                    <h3>Essential Shortcuts (VS Code / Android Studio):</h3>
                    <table>
                        <thead><tr><th>Action</th><th>VS Code</th><th>Android Studio</th></tr></thead>
                        <tbody>
                            <tr><td><strong>Quick Fix / Actions</strong></td><td><code>Ctrl + .</code></td><td><code>Alt + Enter</code></td></tr>
                            <tr><td><strong>Rename Symbol</strong></td><td><code>F2</code></td><td><code>Shift + F6</code></td></tr>
                            <tr><td><strong>Reformat Code</strong></td><td><code>Shift + Alt + F</code></td><td><code>Ctrl + Alt + L</code></td></tr>
                            <tr><td><strong>Go to Definition</strong></td><td><code>F12</code></td><td><code>Ctrl + B</code></td></tr>
                            <tr><td><strong>Create Widget (snippet)</strong></td><td><code>stless</code> / <code>stful</code></td><td><code>stless</code> / <code>stful</code></td></tr>
                        </tbody>
                    </table>
                     <p class="mt-4">The "Quick Fix" shortcut is especially powerful, as it allows you to easily wrap widgets, remove widgets, convert between stateless and stateful, and more.</p>
                `
            },
            '7.3': {
                title: 'Flutter DevTools: Your Debugging & Performance Hub',
                content: `
                    <p>Flutter DevTools is a suite of web-based tools for inspecting, debugging, and profiling your running app.</p>
                    <h3>Key Features:</h3>
                    <ul>
                        <li><strong>Widget Inspector:</strong> Visualize and explore the widget tree, diagnose layout issues.</li>
                        <li><strong>Performance Tab:</strong> Profile frame rendering to find and fix "jank" (stutter).</li>
                        <li><strong>CPU Profiler:</strong> Find performance bottlenecks in your Dart code.</li>
                        <li><strong>Memory Tab:</strong> Track memory allocation and find memory leaks.</li>
                        <li><strong>Network Tab:</strong> Monitor network traffic.</li>
                    </ul>
                `
            },
             '8.1': {
                title: 'Clean Code Principles',
                content: `
                    <p>Writing clean, maintainable code is essential for professional development.</p>
                    <ul>
                        <li><strong>Naming Conventions:</strong> Use <code>UpperCamelCase</code> for classes, <code>lowerCamelCase</code> for variables/functions, and <code>snake_case</code> for files.</li>
                        <li><strong>Code Formatting:</strong> Use the built-in formatter (<code>dart format .</code>) to ensure consistency.</li>
                        <li><strong>Single Responsibility Principle (SRP):</strong> Keep widgets and classes focused on a single task.</li>
                        <li><strong>Project Structure:</strong> Organize your files logically, often by feature (e.g., a folder for everything related to authentication).</li>
                    </ul>
                `
            },
            '8.2': {
                title: 'Performance Optimization Techniques',
                content: `
                    <p>Optimizing performance is key to a great user experience.</p>
                    <ul>
                        <li><strong>Use <code>const</code> widgets:</strong> When a widget and its properties don't change, declare it as <code>const</code> to prevent it from being rebuilt. This is one of the easiest and most impactful optimizations.</li>
                        <li><strong>Avoid unnecessary rebuilds:</strong> Split large widgets into smaller ones. Use state management tools like Provider to be precise about which parts of the UI need to update.</li>
                        <li><strong>Optimize images:</strong> Use properly sized images, compress them, and use lazy loading for long lists (e.g., with <code>ListView.builder</code>).</li>
                        <li><strong>Profile with DevTools:</strong> Use the Performance and Profiler tabs in DevTools to find the real bottlenecks in your app instead of guessing.</li>
                    </ul>
                `
            },
             '9.1': {
                title: 'The Flutter Learning Roadmap',
                content: `
                    <p>Learning Flutter is a journey. This roadmap outlines a structured path from beginner to advanced topics.</p>
                    <div class="space-y-4 mt-6">
                        <div class="accordion">
                            <div class="accordion-header">
                                <span><strong>Stage 1:</strong> Foundational Skills (Beginner)</span>
                                <span class="accordion-icon transform rotate-0 transition-transform">+</span>
                            </div>
                            <div class="accordion-content">
                                <div class="prose-custom">
                                    <ul>
                                        <li><strong>Dart Language Fundamentals:</strong> Learn syntax, variables, control flow, functions, and classes.</li>
                                        <li><strong>Your First App:</strong> Get hands-on with project creation and basic UI elements.</li>
                                        <li><strong>Widgets Deep Dive:</strong> Master <code>StatelessWidget</code> vs. <code>StatefulWidget</code> and the widget tree concept.</li>
                                        <li><strong>Basic UI & Layout:</strong> Practice with common widgets like <code>Row</code>, <code>Column</code>, <code>Container</code>, and <code>Stack</code>.</li>
                                        <li><strong>Hot Reload Mastery:</strong> Get comfortable with the rapid development cycle.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="accordion">
                            <div class="accordion-header">
                                <span><strong>Stage 2:</strong> Core Development (Intermediate)</span>
                                <span class="accordion-icon transform rotate-0 transition-transform">+</span>
                            </div>
                            <div class="accordion-content">
                                <div class="prose-custom">
                                    <ul>
                                        <li><strong>State Management:</strong> Learn a dedicated solution like <code>Provider</code> or <code>Riverpod</code>.</li>
                                        <li><strong>Navigation & Routing:</strong> Master named routes and passing data between screens.</li>
                                        <li><strong>Async Programming:</strong> Deepen understanding of <code>Future</code>, <code>async</code>, and <code>await</code>.</li>
                                        <li><strong>Network & Data:</strong> Implement API calls with <code>http</code> and use <code>shared_preferences</code> or <code>sqflite</code> for local storage.</li>
                                        <li><strong>Debugging:</strong> Become proficient with Flutter DevTools.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="accordion">
                            <div class="accordion-header">
                                <span><strong>Stage 3:</strong> Advanced Topics & Specialization</span>
                                <span class="accordion-icon transform rotate-0 transition-transform">+</span>
                            </div>
                            <div class="accordion-content">
                                <div class="prose-custom">
                                    <ul>
                                        <li><strong>Advanced State Management:</strong> Explore complex patterns like BLoC or advanced Riverpod features.</li>
                                        <li><strong>Clean Architecture:</strong> Learn to structure large, scalable, and testable applications.</li>
                                        <li><strong>Automated Testing:</strong> Write unit, widget, and integration tests to ensure code quality.</li>
                                        <li><strong>Platform Integration:</strong> Work with platform channels to use native device APIs.</li>
                                        <li><strong>Deployment:</strong> Understand the process of releasing apps to the App Store and Google Play.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                `
            }
        };

        const navMenuData = [
            {
                title: 'I. Getting Started',
                items: [
                    { id: '1.1', name: 'Architecture Overview' },
                    { id: '1.2', name: 'Setup Environment' },
                    { id: '1.3', name: 'Create Project' },
                    { id: '1.4', name: 'Run App: Hot Reload' },
                ]
            },
            {
                title: 'II. The Core of Flutter',
                items: [
                    { id: '2.1', name: 'Everything is a Widget' },
                    { id: '2.2', name: 'Stateless vs. StatefulWidget' },
                ]
            },
            {
                title: 'III. Building UI',
                items: [
                    { id: '3.1', name: 'Fundamental Widgets' },
                    { id: '3.2', name: 'Layout Widgets' },
                ]
            },
            {
                title: 'IV. State Management',
                items: [
                    { id: '4.1', name: 'Local State: setState()' },
                    { id: '4.2', name: 'App State: Provider' },
                ]
            },
            {
                title: 'V. Navigation & Routing',
                items: [
                    { id: '5.1', name: 'Basic Navigation' },
                    { id: '5.2', name: 'Named Routes & Data' },
                ]
            },
            {
                title: 'VI. Handling Data',
                items: [
                    { id: '6.1', name: 'Network Communication' },
                    { id: '6.2', name: 'Local Persistence' },
                ]
            },
            {
                title: 'VII. Productivity Tools',
                items: [
                    { id: '7.1', name: 'Flutter CLI' },
                    { id: '7.2', name: 'IDE Shortcuts' },
                    { id: '7.3', name: 'Flutter DevTools' },
                ]
            },
            {
                title: 'VIII. Best Practices',
                items: [
                    { id: '8.1', name: 'Clean Code' },
                    { id: '8.2', name: 'Performance Optimization' },
                ]
            },
            {
                title: 'IX. Learning Roadmap',
                items: [
                     { id: '9.1', name: 'The Roadmap' },
                ]
            }
        ];

        let activeSectionId = '1.1';

        const navMenu = document.getElementById('nav-menu');
        const contentArea = document.getElementById('content-area');
        const sidebar = document.getElementById('sidebar');
        const mobileNavToggle = document.getElementById('mobile-nav-toggle');

        function renderContent(id) {
            const section = cheatSheetData[id];
            if (!section) {
                contentArea.innerHTML = '<h1>Content not found</h1>';
                return;
            }
            contentArea.innerHTML = `<h1>${section.title}</h1>${section.content}`;
            
            document.querySelectorAll('pre').forEach(pre => {
                const code = pre.querySelector('code');
                if (code) {
                    const copyButton = document.createElement('button');
                    copyButton.innerText = 'Copy';
                    copyButton.className = 'copy-btn';
                    copyButton.onclick = () => {
                        const textarea = document.createElement('textarea');
                        textarea.value = code.innerText;
                        document.body.appendChild(textarea);
                        textarea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textarea);
                        copyButton.innerText = 'Copied!';
                        setTimeout(() => { copyButton.innerText = 'Copy'; }, 2000);
                    };
                    pre.appendChild(copyButton);
                }
            });

            // Re-bind event listeners for interactive elements
            if (id === '2.2') {
                bindCounterDemo();
            }
            if (id === '3.2') {
                bindLayoutDemo();
            }
            if (id === '9.1') {
                bindAccordion();
            }

            // Scroll to top of content area
            document.querySelector('main').scrollTop = 0;
        }

        function buildNavMenu() {
            navMenu.innerHTML = '';
            navMenuData.forEach(section => {
                const sectionTitle = document.createElement('h2');
                sectionTitle.className = 'text-sm font-semibold text-slate-500 mt-4 mb-1 px-2 uppercase tracking-wider';
                sectionTitle.textContent = section.title;
                navMenu.appendChild(sectionTitle);

                const itemList = document.createElement('ul');
                itemList.className = 'space-y-1';
                section.items.forEach(item => {
                    const li = document.createElement('li');
                    const a = document.createElement('a');
                    a.href = '#';
                    a.dataset.id = item.id;
                    a.textContent = item.name;
                    a.className = `block px-3 py-2 text-sm rounded-md transition-colors duration-150 sidebar-item ${item.id === activeSectionId ? 'active' : ''}`;
                    a.onclick = (e) => {
                        e.preventDefault();
                        activeSectionId = item.id;
                        buildNavMenu();
                        renderContent(activeSectionId);
                        // Hide sidebar on mobile after click
                        if(window.innerWidth < 1024) {
                            sidebar.classList.add('-translate-x-full');
                        }
                    };
                    li.appendChild(a);
                    itemList.appendChild(li);
                });
                navMenu.appendChild(itemList);
            });
        }
        
        function bindCounterDemo() {
            const counterBtn = document.getElementById('counter-btn');
            if (counterBtn) {
                let count = 0;
                counterBtn.addEventListener('click', () => {
                    count++;
                    counterBtn.textContent = `Count: ${count}`;
                });
            }
        }
        
        function bindLayoutDemo() {
            const mainAxisSelect = document.getElementById('main-axis');
            const crossAxisSelect = document.getElementById('cross-axis');
            const preview = document.getElementById('layout-preview');
            
            const mainAxisClasses = {
                'flex-start': 'justify-start', 'center': 'justify-center', 'flex-end': 'justify-end',
                'space-between': 'justify-between', 'space-around': 'justify-around', 'space-evenly': 'justify-evenly'
            };
            const crossAxisClasses = {
                'items-start': 'items-start', 'items-center': 'items-center', 'items-end': 'items-end',
                'items-stretch': 'items-stretch'
            };

            function updateLayout() {
                preview.className = 'flex flex-col h-full w-full bg-slate-200 rounded'; // Reset
                preview.classList.add(mainAxisClasses[mainAxisSelect.value]);
                preview.classList.add(crossAxisClasses[crossAxisSelect.value]);
            }

            mainAxisSelect.addEventListener('change', updateLayout);
            crossAxisSelect.addEventListener('change', updateLayout);
        }

        function bindAccordion() {
            const accordions = document.querySelectorAll('.accordion');
            accordions.forEach(accordion => {
                const header = accordion.querySelector('.accordion-header');
                const content = accordion.querySelector('.accordion-content');
                const icon = accordion.querySelector('.accordion-icon');

                header.addEventListener('click', () => {
                    const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';
                    if (isOpen) {
                        content.style.maxHeight = '0px';
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        content.style.maxHeight = content.scrollHeight + 'px';
                        icon.style.transform = 'rotate(45deg)';
                    }
                });
            });
        }
        
        mobileNavToggle.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
        });

        // Initial render
        buildNavMenu();
        renderContent(activeSectionId);
    </script>
</body>
</html>
